<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>GAEChannel View</title>
  <script type="text/javascript">
    var scheme = '';

    function init(serverURL) {
      var xhrObj = new XMLHttpRequest();

      xhrObj.open('GET', serverURL, true);
      xhrObj.send();
    }

    function loadJSAPI(serverURL) {
      var head = document.getElementsByTagName('head')[0];
      var script = document.createElement('script');

      script.type = 'text/javascript';
      script.id = 'gsApi';
      script.src = serverURL + '/_ah/channel/jsapi';

      head.appendChild(script);
    }

    function __callObjCFunction(selector, params) {
      var href = scheme + selector;
      var query = '';

      for (var key in params) {
        query += key + '=' + encodeURIComponent(params[key]) + '&';
      }

      if (query.length > 0) {
        href += '?' + query;
      }

      location.href = href;
    }

    function setScheme(newScheme) {
      scheme = newScheme;
    }
  </script>
</head>
<body>
</body>
</html>